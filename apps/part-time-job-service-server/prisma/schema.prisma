datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model JobType {
  createdAt DateTime @default(now())
  id        String   @id @default(cuid())
  jobs      Job[]
  name      String?
  updatedAt DateTime @updatedAt
}

model Job {
  applications Application[]
  createdAt    DateTime      @default(now())
  description  String?
  id           String        @id @default(cuid())
  jobType      JobType?      @relation(fields: [jobTypeId], references: [id])
  jobTypeId    String?
  location     String?
  postedAt     DateTime?
  postedBy     String?
  postedByUser String?
  title        String?
  typeField    String?
  updatedAt    DateTime      @updatedAt
}

model Application {
  applicationStatus EnumApplicationApplicationStatus?
  appliedAt         DateTime?
  createdAt         DateTime                          @default(now())
  id                String                            @id @default(cuid())
  job               Job?                              @relation(fields: [jobId], references: [id])
  jobId             String?
  status            EnumApplicationStatus?
  updatedAt         DateTime                          @updatedAt
  user              User?                             @relation(fields: [userId], references: [id])
  userId            String?
}

model User {
  applications Application[]
  createdAt    DateTime      @default(now())
  email        String?       @unique
  firstName    String?
  id           String        @id @default(cuid())
  lastName     String?
  password     String
  phone        String?
  roles        Json
  updatedAt    DateTime      @updatedAt
  username     String        @unique
}

enum EnumApplicationApplicationStatus {
  Option1
}

enum EnumApplicationStatus {
  Option1
}
